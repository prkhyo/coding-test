


# DFS(Depth-First-Search)

 DFS는 깊이 우선 탐색이라고도 부르며 그래프에서 깊은 부분을 우선적으로 탐색하는 알고리즘
 
 → 스택 자료구조(혹은 재귀 함수)를 이용하여 구현
 
 ***
<br>

 
## 구체적인 동작 


   1. 탐색 시작 노드를 스택에 삽입하고 방문 처리를 함
   2. 스택의 최상단 노드에 방문하지 않은 인접한 노드가 하나라도 있으면 그 노드를 스택에 넣고 방문 처리.
      방문하지 않은 인접 노드가 없으면 스택에서 최상단 노드를 꺼냄
  3. 더 이상 2번의 과정을 수행할 수 없을 때까지 반복

<br>

## DFS 동작 예시
**[Steps 0]** 그래프 준비
  
![dfs1](/algorithm/resources/img/dfs1.png)

   + 그래프의 방문 기준: 번호가 낮은 인접 노드부터 방문
   + 시작노드: 1
   

**[Steps1]** 시작 노드인 '1'을 스택에 삽입하고 방문 처리

![dfs2](/algorithm/resources/img/dfs2.png)

**[Steps2]** 스택의 최상단 노드인 '1'에 방문하지 않은 인접 노드인 '2', '3', '8' 중 가장 작은 노드인 '2'를 스택에 넣고 방문 처리

![dfs3](/algorithm/resources/img/dfs3.png)

**[Steps3]** 스택의 최상단 노드인 '2'에 방문하지 않은 인접 노드인 '7'을 스택에 넣고 방문 처리

![dfs4](/algorithm/resources/img/dfs4.png)

**[Steps4]** 스택의 최상단 노드인 '7'에 방문하지 않은 인접 노드 '6', '8' 중 가장 작은 노드인 '6'을 스택에 넣고 방문 처리

![dfs5](/algorithm/resources/img/dfs5.png)

**[Steps5]** 스택의 최상단 노드인 '6'에 방문하지 않은 인접 노드가 없으므로 스택에서 '6'번 노드를 꺼냄

![dfs6](/algorithm/resources/img/dfs6.png)

**[Steps6]** 스택의 최상단 노드인 '7'에 방문하지 않은 인접 노드인 '8'을 스택에 넣고 방문 처리

![dfs7](/algorithm/resources/img/dfs7.png)

 **[Steps7]** 이러한 과정을 반복해서 실행

 ![dfs8](/algorithm/resources/img/dfs8.png)


 - **전체 노드의 탐색 순서**(스택에 들어간 순서): 1 → 2 → 7 → 6 → 8 → 3 → 4 → 5

<br>

## DFS 소스코드 예제

- **재귀 함수**를 사용하여 DFS구현
-  재귀적으로 방문하지 않은 노드를 계속해서 방문한다는 점에서 **깊이 우선**으로 최대한 깊게 그래프를 탐색할 수 있음

```python

# 각 노드가 연결된 정보를 표현 (2차원 리스트)
# 일반적으로 그래프 문제가 출제되면 노드의 번호가 1번 부터 시작하는 경우가 많기 때문에 인덱스 0에 대한 내용은 비워둘 것(사용 X)
#   => 문제에 나와있는 노드의 번호를 graph리스트의 인덱스와 매핑할 때, 
#      인덱스에 1을 더하는 방식이 아닌 인덱스 0을 사용하지 않는 방식을 사용하는 것이 더 직관적!
# 1번 인덱스부터 해당 노드에 인접한 노드를 리스트에 초기화
graph = [
  [], 
  [2, 3, 8], 
  [1, 7],
  [1, 4, 5],
  [3, 5],
  [3, 4],
  [7],
  [2, 6, 8],
  [1, 7]
]


# 각 노드가 방문된 정보를 표현 (1차원 리스트)
# 실제 노드에 대한 인덱스는 1 ~ 8까지지만 인덱스를 0을 사용하지 않도록 하기 위해 1만큼 더 큰 크기로 1차원 리스트를 초기화
visited = [False] * 9


# DFS 메서드 정의
def dfs(graph, v, visited):
    # 현재 노드를 방문 처리
    visited[v] = True
    print(v, end=' ')
    # 현재 노드와 연결된 다른 노드를 재귀적으로 방문
    for i in graph[v]:
        if not visited[i]:
            dfs(graph, i, visited)


# 정의된 DFS함수 호출
dfs(graph, 1, visited)


# 실행 결과 : 1 2 7 6 8 3 4 5

```
             